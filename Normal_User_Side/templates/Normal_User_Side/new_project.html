{% extends 'Normal_User_Side/base_dashboard.html' %}
{% load static %}

{% block title %}Create New Land Appraisal - Land Appraisal System{% endblock %}

{% block content %}
<!-- Hero Section with Gradient Blobs -->
<div class="bg-background"
    style="position: relative; overflow: hidden; padding: var(--spacing-8) 0; margin: calc(var(--spacing-8) * -1) calc(var(--spacing-4) * -1) var(--spacing-8);">
    <!-- Gradient Blobs -->
    <div
        style="position: absolute; top: -20%; right: -10%; width: 500px; height: 500px; background: var(--blob-gradient-1); opacity: 0.4; z-index: -1;">
    </div>
    <div
        style="position: absolute; bottom: -20%; left: -10%; width: 500px; height: 500px; background: var(--blob-gradient-2); opacity: 0.4; z-index: -1;">
    </div>

    <!-- Page Header Card -->
    <div class="container">
        <div class="card card-glass"
            style="padding: var(--spacing-8); border-radius: var(--radius-xl); max-width: 900px; margin: 0 auto;">
            <!-- Back Button -->
            <a href="{% url 'normal_user:dashboard' %}" class="inline-flex items-center gap-2 mb-4"
                style="color: var(--color-primary-500); text-decoration: none; font-weight: 500; font-size: 0.875rem;">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
                Back to Dashboard
            </a>

            <div class="text-center">
                <span style="font-size: 2rem;">ðŸ“‹</span>
                <h1 class="text-3xl font-bold mb-2"
                    style="color: var(--color-text-main); margin-top: var(--spacing-2);">Create New Project</h1>
                <p class="text-muted-foreground">Fill in the details below to start your land price estimation</p>
            </div>
        </div>
    </div>
</div>

<!-- Form Section -->
<div class="container" style="max-width: 900px; margin: 0 auto;">
    <form method="POST" action="">
        {% csrf_token %}

        <!-- Project Details Card -->
        <div class="card card-glass mb-6" style="padding: var(--spacing-8); border-radius: var(--radius-xl);">
            <h2 class="text-xl font-semibold mb-6"
                style="color: var(--color-text-main); display: flex; align-items: center; gap: var(--spacing-2);">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    style="color: var(--color-primary-500);">
                    <path
                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                    <line x1="12" y1="22.08" x2="12" y2="12" />
                </svg>
                Project Details
            </h2>

            <!-- Project Name -->
            <div class="form-group">
                <label class="form-label" style="display: flex; align-items: center; gap: var(--spacing-2);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        style="color: var(--color-primary-500);">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                        <polyline points="14 2 14 8 20 8" />
                        <line x1="16" y1="13" x2="8" y2="13" />
                        <line x1="16" y1="17" x2="8" y2="17" />
                        <polyline points="10 9 9 9 8 9" />
                    </svg>
                    Project Name *
                </label>
                {{ form.name }}
                {% if form.name.errors %}
                <p style="color: var(--color-danger); font-size: 0.875rem; margin-top: 4px;">{{ form.name.errors }}</p>
                {% endif %}
            </div>

            <!-- Description -->
            <div class="form-group">
                <label class="form-label" style="display: flex; align-items: center; gap: var(--spacing-2);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        style="color: var(--color-primary-500);">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                        <polyline points="14 2 14 8 20 8" />
                        <line x1="16" y1="13" x2="8" y2="13" />
                        <line x1="16" y1="17" x2="8" y2="17" />
                    </svg>
                    Description (Optional)
                </label>
                {{ form.description }}
            </div>
        </div>

        <!-- Land Information Card -->
        <div class="card card-glass mb-6" style="padding: var(--spacing-8); border-radius: var(--radius-xl);">
            <h2 class="text-xl font-semibold mb-6"
                style="color: var(--color-text-main); display: flex; align-items: center; gap: var(--spacing-2);">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    style="color: var(--color-primary-500);">
                    <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" />
                    <circle cx="12" cy="10" r="3" />
                </svg>
                Land Information
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Governorate -->
                <div class="form-group">
                    <label class="form-label" style="display: flex; align-items: center; gap: var(--spacing-2);">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            style="color: var(--color-primary-500);">
                            <polygon points="3 11 22 2 13 21 11 13 3 11" />
                        </svg>
                        Governorate *
                    </label>
                    {{ form.governorate }}
                </div>

                <!-- Land Type -->
                <div class="form-group">
                    <label class="form-label" style="display: flex; align-items: center; gap: var(--spacing-2);">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            style="color: var(--color-primary-500);">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                            <line x1="9" y1="3" x2="9" y2="21" />
                        </svg>
                        Land Type *
                    </label>
                    {{ form.land_type }}
                </div>

                <!-- Land Size -->
                <div class="form-group">
                    <label class="form-label" style="display: flex; align-items: center; gap: var(--spacing-2);">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            style="color: var(--color-primary-500);">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2" />
                            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
                        </svg>
                        Land Size (sq. meters) *
                    </label>
                    {{ form.land_size }}
                    {% if form.land_size.errors %}
                    <p style="color: var(--color-danger); font-size: 0.875rem; margin-top: 4px;">{{
                        form.land_size.errors }}</p>
                    {% endif %}
                </div>

                <!-- Political Classification -->
                <div class="form-group">
                    <label class="form-label" style="display: flex; align-items: center; gap: var(--spacing-2);">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            style="color: var(--color-primary-500);">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                            <circle cx="12" cy="10" r="3" />
                        </svg>
                        Political Classification *
                    </label>
                    {{ form.political_classification }}
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="card card-glass" style="padding: var(--spacing-6); border-radius: var(--radius-xl);">
            <div class="flex gap-4" style="display: flex; gap: var(--spacing-4); flex-wrap: wrap;">
                <button type="submit" name="action" value="save" class="btn btn-secondary"
                    style="flex: 1; min-width: 200px; display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-2);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
                        <polyline points="17 21 17 13 7 13 7 21" />
                        <polyline points="7 3 7 8 15 8" />
                    </svg>
                    Save Project
                </button>

                <button type="submit" name="action" value="estimate" class="btn btn-primary"
                    style="flex: 1; min-width: 200px; display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-2);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="12" y1="1" x2="12" y2="23" />
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                    </svg>
                    Estimate Price
                </button>
            </div>
        </div>
    </form>
</div>
{% endblock %}