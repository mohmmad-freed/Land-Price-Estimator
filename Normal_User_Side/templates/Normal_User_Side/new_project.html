{% extends 'Normal_User_Side/base_dashboard.html' %}

{% block title %}Create New Land Appraisal - Land Appraisal System{% endblock %}

{% block content %}
    <div class="max-w-5xl mx-auto bg-card shadow-md rounded-lg p-8 mt-10 mb-10">

        <a href="{% url 'normal_user:dashboard' %}" class="inline-flex items-center gap-2 text-primary hover:opacity-80 mb-4 transition">
                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
                Back to Dashboard
            </a>

    <h2 class="text-2xl font-semibold mb-6">Create New Project</h2>

    

    <form method="POST" action="">
        {% csrf_token %}

        <!-- Project Name -->
        <div class="mb-6">
            <label class="block font-medium mb-1">Project Name *</label>
            <input 
                type="text"
                name="project_name"
                required
                class="w-full px-4 py-2 border rounded-lg"
            >
        </div>

        <!-- Governorate -->
        <div class="mb-6">
            <label class="block font-medium mb-1">Governorate *</label>
            <select 
                name="governorate"
                required
                class="w-full px-4 py-2 border rounded-lg"
            >
                <option value="">Select Governorate</option>
                {% for gov in governorates %}
                    <option value="{{ gov.id }}">{{ gov.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- City / Town -->
        <div class="mb-6">
            <label class="block font-medium mb-1">City / Town *</label>
            <select 
                name="city"
                required
                class="w-full px-4 py-2 border rounded-lg"
                disabled
            >
                <option value="">Select a Governorate first</option>
            </select>
        </div>

        <!-- Neighborhood -->
        <div class="mb-6">
            <label class="block font-medium mb-1">Neighborhood *</label>
            <select 
                name="neighborhood"
                required
                class="w-full px-4 py-2 border rounded-lg"
                disabled
            >
                <option value="">Select a City/Town first</option>
            </select>
        </div>

        <!-- Land Size -->
        <div class="mb-6">
            <label class="block font-medium mb-1">Land Size (sq. meters) *</label>
            <input 
                type="number"
                name="land_size"
                required
                min="1"
                class="w-full px-4 py-2 border rounded-lg"
            >
        </div>

        <!-- Land Type -->
        <div class="mb-6">
            <label class="block font-medium mb-1">Land Type *</label>
            <select 
                name="land_type"
                required
                class="w-full px-4 py-2 border rounded-lg"
            >
                <option value="">Select</option>
                {% for lt in land_types %}
                    <option value="{{ lt.id }}">{{ lt.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Political Classification -->
        <div class="mb-6">
            <label class="block font-medium mb-1">Political Classification *</label>
            <select 
                name="political_classification"
                required
                class="w-full px-4 py-2 border rounded-lg"
            >
                <option value="">Select</option>
                {% for pc in political_classes %}
                    <option value="{{ pc.id }}">{{ pc.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Infrastructure -->
        <div class="mb-6">
            <label class="block font-medium mb-2">Infrastructure Available</label>

            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">

                {% for infra in infrastructures %}
                <label class="flex items-center space-x-2 border p-3 rounded-lg cursor-pointer hover:bg-muted">
                    <input 
                        type="checkbox"
                        name="infrastructure"
                        value="{{ infra.id }}"
                        class="w-4 h-4"
                    >
                    <span>{{ infra }}</span>
                </label>
                {% endfor %}

            </div>
        </div>

        <!-- Zoning / Usage Restrictions -->
        <div class="mb-6">
    <label class="block font-medium mb-2">Zoning / Usage Restrictions</label>

    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">

        {% for Restriction in Restrictions %}
        <label class="flex items-center space-x-2 border p-3 rounded-lg cursor-pointer hover:bg-muted">
            <input 
                type="checkbox"
                name="zoning"
                value="{{ zone.id }}"
                class="w-4 h-4"
            >
            <span>{{ Restriction }}</span>
        </label>
        {% endfor %}

    </div>
</div>






        <!-- Description -->
        <div class="mb-6">
            <label class="block font-medium mb-1">Description</label>
            <textarea
                name="description"
                rows="5"
                class="w-full px-4 py-2 border rounded-lg"
            ></textarea>
        </div>

        <!-- Submit -->
        <div class="flex gap-4">
            <button 
                type="submit"
                name="action"
                value="save"
                class="px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 text-base inline-flex items-center gap-2"
            >
                <!-- Save Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                Save Project
            </button>

            <button 
                type="submit"
                name="action"
                value="estimate"
                class="px-6 py-3 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/90 text-base inline-flex items-center gap-2"
            >
                <!-- Estimate Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3v18h18M3 15l4-4 4 4 6-6 4 4" />
        </svg>
                Estimate Price
            </button>
        </div>
        

    </form>
</div>








{% endblock %}
